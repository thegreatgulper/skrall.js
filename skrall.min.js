function skrall(t,s={direction:"vertical",snap:!0,snapDelay:500,jsSnapScroll:!0,scrollFullPage:!1}){if(this.version="1.0.1",this.options=s,this.options.direction||(this.options.direction="vertical"),null==this.options.snap&&(this.options.snap=!0),this.options.snapDelay||(this.options.snapDelay=500),this.options.jsSnapScroll||(this.options.jsSnapScroll=!0),this.options.scrollFullPage||(this.options.scrollFullPage=!1),this.options.jsSnapScroll&&(this.scroller=t,this.scroller.onmousewheel=(t=>{this.scroll(t,!1)}),this.scroller.onscroll=(t=>{this.scroll(t,!0)})),this.options.snap&&!this.options.jsSnapScroll){if(!document.querySelector("#skrall-css")){var l=document.createElement("style");l.id="skrall-css",l.innerHTML=".skrall-css-snap {scroll-snap-type: both mandatory;}.skrall-css-snap > * {scroll-snap-align: start;}".trim(),document.head.appendChild(l)}this.scroller.className+=" skrall-css-snap",this.scroller.className=this.scroller.className.trim();var e=new MutationObserver(()=>{this.scroller.className.indexOf("skrall-css-snap")<0&&(this.scroller.className+=" skrall-css-snap",this.scroller.className=this.scroller.className.trim())});e.observe(this.scroller,{attributes:!0})}else{var r=new ResizeObserver(t=>{this.scrollToCurrent()});r.observe(this.scroller)}this.didSnap=!1,this.finalScroll=0,this.timeSinceScroll=0,this.currentSnappedElement=0,this.snapInterval=setInterval(()=>{this.options.snap&&this.options.jsSnapScroll&&(this.timeSinceScroll+=100,this.timeSinceScroll>this.options.snapDelay&&(this.timeSinceScroll=0,this.didSnap||(this.didSnap=!0,this.snapScroll())))},100),this.scroll=((t,s)=>{this.didSnap=!1;for(let l=0;l<t.path.length;l++){if(t.path[l]==this.scroller){try{t.preventDefault()}catch(t){}return void("horizontal"==this.options.direction?this.options.scrollFullPage&&!s?(this.timeSinceScroll=-1e3,this.scroller.scrollBy({left:t.wheelDelta>0?this.scrollToNumber(this.currentSnappedElement-1):this.scrollToNumber(this.currentSnappedElement+1)})):(this.timeSinceScroll=0,this.scroller.scrollBy({left:-t.wheelDelta})):this.options.scrollFullPage&&!s?(this.timeSinceScroll=-1e3,this.scroller.scrollBy({top:t.wheelDelta>0?this.scrollToNumber(this.currentSnappedElement-1):this.scrollToNumber(this.currentSnappedElement+1)})):(this.timeSinceScroll=0,this.scroller.scrollBy({top:-t.wheelDelta})))}if(t.path[l].scrollHeight>t.path[l].offsetHeight)return}}),this.snapScroll=(()=>{var t=this.scroller.scrollWidth/this.scroller.childElementCount,s=Math.round(this.scroller.scrollLeft/t);this.scroller.scrollBy({top:this.getOffset(this.scroller.children[s]).top,left:this.getOffset(this.scroller.children[s]).left,behavior:"smooth"}),this.currentSnappedElement=s}),this.scrollNext=(()=>{var t=this.scroller.scrollWidth/this.scroller.childElementCount,s=Math.round(this.scroller.scrollLeft/t)+1;this.scroller.scrollBy({top:this.getOffset(this.scroller.children[s]).top,left:this.getOffset(this.scroller.children[s]).left,behavior:"smooth"}),this.currentSnappedElement=s}),this.scrollPrevious=(()=>{var t=this.scroller.scrollWidth/this.scroller.childElementCount,s=Math.round(this.scroller.scrollLeft/t)-1;this.scroller.scrollBy({top:this.getOffset(this.scroller.children[s]).top,left:this.getOffset(this.scroller.children[s]).left,behavior:"smooth"}),this.currentSnappedElement=s}),this.scrollToNumber=(t=>{try{this.scroller.scrollBy({top:this.getOffset(this.scroller.children[t]).top,left:this.getOffset(this.scroller.children[t]).left,behavior:"smooth"}),this.currentSnappedElement=t}catch(t){}}),this.scrollToCurrent=(()=>{console.log(this.currentSnappedElement);try{let t=this.currentSnappedElement;this.scroller.scrollBy({top:this.getOffset(this.scroller.children[t]).top,left:this.getOffset(this.scroller.children[t]).left,behavior:"smooth"})}catch(t){}}),this.getOffset=(t=>{var s=this.scroller.getBoundingClientRect(),l=t.getBoundingClientRect();return{top:l.top-s.top,bottom:l.bottom-s.bottom,left:l.left-s.left,right:l.right-s.right}}),this.jump=(t=>{this.scrollToElement(this.scroller,document.getElementById(t))}),this.scrollToElement=((t,s)=>{try{t.scrollBy({top:this.getOffset(s).top,left:this.getOffset(s).left,behavior:"smooth"})}catch(t){}}),this.dispose=(()=>{clearInterval(this.snapInterval)})}window.skrall=skrall;